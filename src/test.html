<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>API test</title>
    <script type="application/javascript" src="<%= brightpatternOrigin %>/agent/communicator/adapters/api.js"></script>
</head>
<body>
<main class="flex">
    <aside class="menu border-r-2 border-solid h-full bg-white shadow-sm">
        <p class="menu-item" data-name="session">Session</p>
        <p class="menu-item" data-name="phone-device">Phone Device</p>
        <p class="menu-item" data-name="agent-state">Agent state</p>
        <p class="menu-item opened" data-name="interaction">Interactions</p>
    </aside>
    <section class="flex flex-col">
        <section class="main-section">
            <header class="flex">
                <div class="hamburger hamburger--emphatic">
                    <div class="hamburger-box">
                        <div class="hamburger-inner"></div>
                    </div>
                </div>
            </header>
            <div class="controls">
                <section data-name="session" class="section max-w-lg">
                    <h2 class="title">Session</h2>
                    <form onsubmit="return false">
                        <div class="mb-4">
                            <label class="input-label" for="username_input">
                                Username
                            </label>
                            <input id="username_input" type="text" placeholder="Username" autocomplete="on"
                                   name="name"
                            >
                        </div>

                        <div class="mb-4">
                            <label class="input-label" for="password_input">
                                Password
                            </label>
                            <input id="password_input" type="text" placeholder="Password" autocomplete="off"
                                   name="name"
                            >
                        </div>

                        <div class="mb-8">
                        <label class="input-label" for="tenant_input">
                            Tenant
                        </label>
                        <input id="tenant_input" type="text" placeholder="Tenant" autocomplete="on"
                               name="name"
                        >
                    </div>
                    <div class="flex justify-between flex-wrap -mx-1">
                        <button class="button mx-1 mb-4" id="login_button">login</button>
                        <button class="button mx-1 mb-4" id="get_login_state_button">getLoginState</button>
                        <button class="button mx-1 mb-4" id="logout_button">logout</button>
                        <input type='reset' class="button_helper self-end inline-block w-auto mx-1 mb-4"
                               value="Reset form"/>
                    </div>
                </form>
            </section>
            <section class="section max-w-lg" data-name="phone-device">
                <h2 class="title">Phone device</h2>
                <form onsubmit="return false" >
                    <div class="mb-8">
                        <label class="input-label" for="phone_device_type_input">
                            Phone device type
                        </label>
                        <input id="phone_device_type_input" type="text" placeholder="Phone device type"
                               autocomplete="on"
                        >
                    </div>
                    <div class="mb-8">
                        <label class="input-label" for="phone_device_number_input">
                            Phone device number
                        </label>
                        <input id="phone_device_number_input" type="text" placeholder="Phone device number"
                               autocomplete="on"
                        >
                    </div>
                    <div class="flex flex-wrap -mx-1 ">
                        <button class="button mx-1 mb-4" id="get_phone_devices_list_button">getPhoneDevicesList</button>
                        <button class="button mx-1 mb-4" id="get_phone_device_button">getPhoneDevice</button>
                        <button class="button mx-1 mb-4" id="set_phone_device_button">setPhoneDevice</button>
                        <input type='reset' class="button_helper inline-block w-auto mx-1 mb-4"
                               value="Reset form"/>
                    </div>
                </form>
            </section>
            <section class="section max-w-lg" data-name="agent-state">
                <h2 class="title">Agent state</h2>
                <form onsubmit="return false">
                    <div class="mb-8">
                        <label class="input-label" for="agent_state_input">
                            Agent state
                        </label>
                        <input id="agent_state_input" type="text" placeholder="Agent state"
                               autocomplete="on"
                        >
                    </div>
                    <div class="mb-8">
                        <label class="input-label" for="not_ready_reason_input">
                            Not ready reason
                        </label>
                        <input id="not_ready_reason_input" type="text" placeholder="Not ready reason"
                               autocomplete="on"
                        >
                    </div>
                    <div class="flex flex-wrap -mx-1">
                        <button class="button mx-1 mb-4" id="get_agent_state_button">getAgentState</button>
                        <button class="button mx-1 mb-4" id="set_agent_state_button">setAgentState</button>
                        <input type='reset' class="button_helper inline-block w-auto mx-1 mb-4"
                               value="Reset form"/>
                    </div>
                </form>
            </section>
                <section class="section opened" data-name="interaction">
                    <h2 class="title">Interactions</h2>
                    <nav class="tab">
                        <button class="tab-item" data-name="start-interaction">
                            Start interaction
                        </button>
                        <button class="tab-item active" data-name="transfer-interaction">
                            Transfer
                        </button>
                        <button class="tab-item" data-name="conference-interaction">
                            Conference
                        </button>
                        <button class="tab-item" data-name="active-interaction">
                            Active interaction
                        </button>
                        <button class="tab-item" data-name="notes-interaction">
                            Notes and Disposition
                        </button>
                        <button class="tab-item" data-name="end-interaction">
                            End interaction
                        </button>
                    </nav>
                    <section class="tab-content mt-4" data-name="start-interaction">
                        <form onsubmit="return false" class="flex flex-wrap -mx-4">
                            <div class="mx-4">
                                <div class="mb-4">
                                    <label class="input-label" for="chat_channel_input">
                                        Chat channel
                                    </label>
                                    <input id="chat_channel_input" type="text" placeholder="Chat channel"
                                           autocomplete="on"
                                    >
                                </div>
                                <div class="mb-4">
                                    <label class="input-label" for="chat_address_input">
                                        Phone or user ID
                                    </label>
                                    <input id="chat_address_input" type="text" placeholder="Phone or user ID"
                                           autocomplete="on"
                                    >
                                </div>
                                <button class="button" id="start_chat_button">startChat</button>
                            </div>
                    <div class="mx-4">
                        <div class="mb-4">
                            <label class="input-label" for="start_call_phone_number_input">
                                Phone number
                            </label>
                            <input id="start_call_phone_number_input" type="text" placeholder="Phone number"
                                   autocomplete="on"
                            >
                        </div>
                        <button class="button" id="start_call_button">startCall</button>
                    </div>
                    <div class="mx-4">
                        <div class="mb-4">
                            <label class="input-label" for="email_address_input">
                                Email address
                            </label>
                            <input id="email_address_input" type="text" placeholder="Email address"
                                   autocomplete="on"
                            >
                        </div>
                        <button class="button" id="start_email_button">startEmail</button>
                    </div>
                            <div class="mx-4 mt-8 w-full">
                                <label class="input-label" for="associated_object_textarea">
                                    Associated object
                                </label>
                                <textarea id="associated_object_textarea" placeholder="Associated object" rows="9">
                    {
                        "id": "some-random-id",
                        "type": "contact",
                        "displayName": "Peter Morrison",
                        "displayType": "Contact",
                        "customFields": {},
                        "source": "test-adapter"
                    }
                                    </textarea>
                            </div>
                        </form>
                    </section>
                    <section class="tab-content mt-4 active -mb-4" data-name="transfer-interaction">
                        <form onsubmit="return false">
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <div class="mb-4">
                                        <label class="input-label" for="transfer_phone_number_input">
                                            Phone number
                                        </label>
                                        <input id="transfer_phone_number_input" type="text" placeholder="Phone number"
                                               autocomplete="on"
                                        >
                                    </div>
                                    <div>
                                        <label class="input-label" for="interaction_id_input">
                                            Interaction ID
                                        </label>
                                        <input id="interaction_id_input" type="text" placeholder="Interaction ID"
                                               autocomplete="off"
                                        >
                                    </div>
                                </div>
                                <div>
                                    <div class="mb-4">
                                        <label class="input-label" for="main_item_id_input">
                                            Transferring item ID
                                        </label>
                                        <input id="main_item_id_input" type="text" placeholder="Transferring item ID"
                                               autocomplete="off"
                                        >
                                    </div>
                                    <div>
                                        <label class="input-label" for="consult_call_id_input">
                                            Consult call ID
                                        </label>
                                        <input id="consult_call_id_input" type="text" placeholder="Consult call ID"
                                               autocomplete="off"
                                        >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <label for="transfer_data_textarea" class="input-label">Custom data for
                                    transfer:</label>
                                <textarea id="transfer_data_textarea" rows="5"
                                          placeholder="Arbitrary data structure (1-level depth)">
                            {
                                "prevUrl": "http://example.com/?url=right",
                                "reconnectAttempts": 3,
                                "associatedMetadata": "blah-blah-blah"
                            }
                                            </textarea>
                            </div>
                            <div class="flex flex-wrap -mx-1 mt-4">
                                <button class='button mx-1 mb-4' id="consult_call_button">consultCall</button>
                                <button class='button mx-1 mb-4' id="blind_transfer_button">blindTransfer</button>
                                <button class='button mx-1 mb-4' id="transfer_button">transfer</button>
                                <input type='reset' class="button_helper self-end inline-block w-auto mx-1 mb-4"
                                       value="Reset form"/>
                            </div>
                        </form>
                    </section>
                </section>

                <!--            <form onsubmit="return false" class="row">-->
                <!--                <label for="interaction_id_input">Interaction ID</label>-->
                <!--                <input id="interaction_id_input" type="text" placeholder="interaction id" autocomplete="off"/>-->
                <!--                <span></span>-->
                <!--                <button id="leave_interaction_button">leaveInteraction</button>-->
                <!--                <button id="complete_interaction_button">completeInteraction</button>-->
                <!--                <button id="leave_and_complete_interaction_button">leaveAndCompleteInteraction</button>-->
                <!--                <button id="switch_active_interaction_button">switchActiveInteraction</button>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="accept_interaction_button">acceptInteraction</button>-->
                <!--                <button id="reject_interaction_button">rejectInteraction</button>-->
                <!--                <button id="send_dtmf_button">sendDtmf</button>-->
                <!--                <input id="dtmf_input" type="text" placeholder="DTMF" autocomplete="on"/>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="add_to_call_conference_button">addToCallConference</button>-->
                <!--                <button id="remove_from_call_conference_button">removeFromCallConference</button>-->
                <!--                <input id="party_id_input" type="text" placeholder="party id" autocomplete="off"/>-->
                <!--                <button id="destroy_call_conference_button">destroyCallConference</button>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="get_teams_button">getTeams</button>-->
                <!--                <button id="get_team_members_button">getTeamMembers</button>-->
                <!--                <input id="team_id_input" type="text" placeholder="team id" autocomplete="on"/>-->
                <!--                <span></span>-->
                <!--                <button id="get_services_list_button">getServicesList</button>-->
                <!--                <button id="set_service_button">setService</button>-->
                <!--                <input id="service_id_input" type="text" placeholder="service id/name" autocomplete="on"/>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="set_reschedule_window_button">setRescheduleWindow</button>-->
                <!--                <input id="from_time_input" type="text" placeholder="YYYY-MM-DD HH24:MM:SS" autocomplete="off"/>-->
                <!--                <input id="until_time_input" type="text" placeholder="YYYY-MM-DD HH24:MM:SS" autocomplete="off"/>-->
                <!--                <input id="timezone_code_input" type="text" placeholder="en_US" autocomplete="on"/>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="get_dispositions_list_button">getDispositionsList</button>-->
                <!--                <button id="set_disposition_button">setDisposition</button>-->
                <!--                <input id="disposition_id_input" type="text" placeholder="disposition id/code/name" autocomplete="on"/>-->
                <!--                <span></span>-->
                <!--                <button id="add_note_button">addNote</button>-->
                <!--                <button id="update_note_button">updateNote</button>-->
                <!--                <button id="replace_note_button">replaceNote</button>-->
                <!--                <input id="note_input" type="text" placeholder="note" autocomplete="off"/>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="set_call_hold_button">setCallHold</button>-->
                <!--                <input id="call_hold_checkbox" type="checkbox"/>-->
                <!--                <label for="call_hold_checkbox">Hold call</label>-->
                <!--                <button id="set_call_recording_button">setCallRecording</button>-->
                <!--                <input id="call_recording_checkbox" type="checkbox"/>-->
                <!--                <label for="call_recording_checkbox">Call recording</label>-->
                <!--                <button id="set_call_mute_button">setCallMute</button>-->
                <!--                <input id="call_mute_checkbox" type="checkbox"/>-->
                <!--                <label for="call_mute_checkbox">Mute call</label>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="set_screen_recording_mute_button">setScreenRecordingMute</button>-->
                <!--                <input id="screen_recording_mute_checkbox" type="checkbox"/>-->
                <!--                <label for="screen_recording_mute_checkbox">Mute screen recording</label>-->
                <!--                <button id="get_screen_recording_state_button">getScreenRecordingState</button>-->
                <!--            </form>-->
                <!--            <form onsubmit="return false" class="row">-->
                <!--                <button id="set_variable_button">setVariable</button>-->
                <!--                <input id="variable_name_input" type="text" placeholder="variable name" autocomplete="on"/>-->
                <!--                <input id="variable_value_input" type="text" placeholder="variable value" autocomplete="off"/>-->
                <!--                <span></span>-->
                <!--                <button id="get_config_button">getConfig</button>-->
                <!--                <button id="set_widget_minimized_button">setWidgetMinimized</button>-->
                <!--                <input id="widget_minimized_checkbox" type="checkbox"/>-->
                <!--                <label for="widget_minimized_checkbox">Widget minimized</label>-->
                <!--            </form>-->
                <!--            <div class="row">-->
                <!--                <div>-->
                <!--                    <button id="add_interaction_associated_object_button">addInteractionAssociatedObject</button>-->
                <!--                </div>-->
                <!--            </div>-->
                <!--            <div class="row">-->
                <!--                <div>-->
                <!--                    <button id="set_interaction_active_screen_button">setInteractionActiveScreen</button>-->
                <!--                </div>-->
                <!--                <textarea id="active_screen_textarea" rows="4" placeholder="Arbitrary data structure">-->
                <!--{-->
                <!--    "url": "https://brightpattern.com/?data=none"-->
                <!--}-->
                <!--                </textarea>-->
                <!--            </div>-->
                <!--            <div class="row">-->
                <!--                <label for="search_kb_result_textarea">Search KB result:</label>-->
                <!--                <textarea id="search_kb_result_textarea" rows="10" placeholder="Array of KB items">-->
                <!--[-->
                <!--    {-->
                <!--        "id": "random-id-1",-->
                <!--        "title": "Demo article",-->
                <!--        "text": "This is KB Article content",-->
                <!--        "source": "test-adapter"-->
                <!--    },-->
                <!--    {-->
                <!--        "id": "random-id-2",-->
                <!--        "title": "How to use KB articles",-->
                <!--        "text": "You can use KB articles when a client asks you a common question",-->
                <!--        "source": "test-adapter"-->
                <!--    }-->
                <!--]-->
                <!--                </textarea>-->
                <!--            </div>-->
                <!--            <div class="row">-->
                <!--                <label for="kb_article_full_data_textarea">KB Article full data:</label>-->
                <!--                <textarea id="kb_article_full_data_textarea" rows="10" placeholder="KB Article data">-->
                <!--{-->
                <!--    "id": "random-id-2",-->
                <!--    "title": "How to use KB articles",-->
                <!--    "answer": "You can use KB articles when a client asks you a common question",-->
                <!--    "keywords": "agent,kb,article",-->
                <!--    "notes": "use it only to teach agents-newcomers",-->
                <!--    "language": "ru",-->
                <!--    "createdByUser": "System admin",-->
                <!--    "lastEditedByUser": "Pol Andersen",-->
                <!--    "customFields": {},-->
                <!--    "source": "test-adapter"-->
                <!--}-->
                <!--                </textarea>-->
                <!--            </div>-->
            </div>
        </section>
        <footer class="log-container">
            <div class="log-controls">
                <button id="clear_log" class="button_helper m-3">clear</button>
            </div>
            <div id="log"></div>
        </footer>
    </section>
</main>
<aside id="adc_mount_node"></aside>
</body>
</html>